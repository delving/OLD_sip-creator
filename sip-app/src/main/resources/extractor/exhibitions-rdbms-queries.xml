<?xml version="1.0" encoding="UTF-8"?>

<query-definition>

    <query name="Exhibitions" parentTable="" parentKey="">
        SELECT "UTSTILLING"."UTSTILLINGSID",
        	"UTSTILLING"."UUID",
        	"UTSTILLING"."PUBLISERES",
        	"UTSTILLING"."SAKSNR",
        	"UTSTILLING"."FRADATO",
        	"UTSTILLING"."TILDATO"
        FROM "UTSTILLING"
        WHERE "UTSTILLING"."PUBLISERES" LIKE 'X'
    </query>
    <query name="Title" wrap="Titles" parentTable="Exhibitions" parentKey="UTSTILLINGSID">
        SELECT "UTSTILLING"."UTSTILLINGSID",
        	"UTSTILLING"."PUBLISERES",
        	"UTSTILLING"."STATUS",
        	"OBJEKT_NAVN"."NAVN",
        	"OBJEKT_NAVN"."KODE"
        FROM "UTSTILLING" INNER JOIN "OBJEKT_NAVN" ON "UTSTILLING"."OBJID" = "OBJEKT_NAVN"."OBJID"
        ORDER BY "UTSTILLING"."UTSTILLINGSID" ASC
    </query>
    <query name="Object" wrap="Objects" parentTable="Exhibitions" parentKey="UTSTILLINGSID">
        SELECT "UTSTILLING"."UTSTILLINGSID",
        	"OBJEKT_UTSTILLING"."NR",
        	"OBJEKT_UTSTILLING"."KATALOGNR",
        	"OBJEKT_UTSTILLING"."KOMMENTAR",
        	"OBJEKT_UTSTILLING"."FRADATO",
        	"OBJEKT_UTSTILLING"."TILDATO",
        	"OBJEKT"."URI",
        	"OBJEKT"."UUID",
        	"OBJEKT_NAVN"."NAVN",
        	"OBJEKT"."MUSEUMSNR",
        	"UTSTILLING"."PUBLISERES",
        	"UTSTILLING"."STATUS"
        FROM "UTSTILLING" INNER JOIN "OBJEKT_UTSTILLING" ON "UTSTILLING"."OBJID" = "OBJEKT_UTSTILLING"."BESKRIVENDE_OBJID"
        	 INNER JOIN "OBJEKT" ON "OBJEKT_UTSTILLING"."OBJID" = "OBJEKT"."OBJID"
        	 INNER JOIN "OBJEKT_NAVN" ON "OBJEKT"."OBJID" = "OBJEKT_NAVN"."OBJID"
        WHERE "UTSTILLING"."PUBLISERES" LIKE 'X'
        ORDER BY "UTSTILLING"."UTSTILLINGSID" ASC
    </query>

</query-definition>

