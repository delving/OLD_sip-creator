<?xml version="1.0"?>
<rec-mapping prefix="icn">

    <!--Copying node mappings to this list will make them appear as candidate mappings when-->
    <!--the prefix corresponds to the target format and the inputPath matches one of the-->
    <!--input paths in the source analysis.-->
    <functions>
        <mapping-function name="cleanAdlibImageReference">
          <sample-input>
            <string>..\..\..\Images PH\OKS 1989-001 [01].JPG</string>
            <string>../../../Images PH/OKS 1989-001 [01].JPG</string>
          </sample-input>
          <groovy-code>
            <string>it.replaceAll(&apos;; &apos;, &apos;_&apos;).replaceAll(&apos;JPG&apos;, &apos;jpg&apos;).replaceAll(&quot;.*?[\\\\|//]&quot;, &quot;&quot;).replaceAll(&quot; &quot;, &quot;%20&quot;).replaceAll(&quot;\\[&quot;, &quot;%5B&quot;).replaceAll(&quot;]&quot;, &quot;%5D&quot;)</string>
          </groovy-code>
        </mapping-function>
        <mapping-function name="cleanUrl">
          <sample-input>
            <string>OKS 1972-[020]</string>
          </sample-input>
          <groovy-code>
            <string>it.replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(&quot;-&quot;, &quot;_&quot;).replaceAll(&quot;\\[&quot;, &quot;%5B&quot;).replaceAll(&quot;]&quot;, &quot;%5D&quot;)</string>
          </groovy-code>
        </mapping-function>
    </functions>

    <node-mappings>
        <node-mapping inputPath="/input/dc:title" outputPath="/icn:record/dc:title"/>
        <node-mapping inputPath="/input/dc:creator" outputPath="/icn:record/dc:creator"/>
        <node-mapping inputPath="/input/dc:subject" outputPath="/icn:record/dc:subject"/>
        <node-mapping inputPath="/input/dc:description" outputPath="/icn:record/dc:description"/>
        <node-mapping inputPath="/input/dc:publisher" outputPath="/icn:record/dc:publisher"/>
        <node-mapping inputPath="/input/dc:contributor" outputPath="/icn:record/dc:contributor"/>
        <node-mapping inputPath="/input/dc:date" outputPath="/icn:record/dc:date"/>
        <node-mapping inputPath="/input/dc:type" outputPath="/icn:record/dc:type"/>
        <node-mapping inputPath="/input/dc:format" outputPath="/icn:record/dc:format"/>
        <node-mapping inputPath="/input/dc:identifier" outputPath="/icn:record/dc:identifier"/>
        <node-mapping inputPath="/input/dc:language" outputPath="/icn:record/dc:language"/>
        <node-mapping inputPath="/input/dc:relation" outputPath="/icn:record/dc:relation"/>
        <node-mapping inputPath="/input/dc:coverage" outputPath="/icn:record/dc:coverage"/>
        <node-mapping inputPath="/input/dc:rights" outputPath="/icn:record/dc:rights"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:title" outputPath="/icn:record/dc:title"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:creator" outputPath="/icn:record/dc:creator"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:description" outputPath="/icn:record/dc:description"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:date" outputPath="/icn:record/dc:date"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:type" outputPath="/icn:record/dc:type"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/dc:identifier" outputPath="/icn:record/dc:identifier"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/ese:isShownBy" outputPath="/icn:record/europeana:isShownBy"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/ese:isShownAt" outputPath="/icn:record/europeana:isShownAt">
            <groovy-code>
                <string>_eseisShownAt.text()</string>
            </groovy-code>
        </node-mapping>
        <node-mapping inputPath="/input/oai:metadata/ese:record/ese:isShownBy" outputPath="/icn:record/europeana:object"/>
        <node-mapping inputPath="/input/oai:metadata/ese:record/ese:dataProvider" outputPath="/icn:record/europeana:provider" operator="FIRST"/>
        <node-mapping inputPath="/facts/dataProvider" outputPath="/icn:record/europeana:dataProvider"/>
    </node-mappings>

</rec-mapping>